{"ast":null,"code":"/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport compose from 'recompose/compose';\nimport defaultProps from 'recompose/defaultProps';\nimport withState from 'recompose/withState';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport pure from 'recompose/pure';\nimport { arc as d3Arc } from 'd3-shape';\nimport { chord as d3Chord, ribbon as d3Ribbon } from 'd3-chord';\nimport { getInheritedColorGenerator, getColorRange } from '../../../lib/colors';\nimport { getLabelGenerator } from '../../../lib/propertiesConverters';\nimport { withMotion, withTheme, withDimensions } from '../../../hocs';\nimport { ChordDefaultProps } from './props';\nexport default (function (Component) {\n  return compose(defaultProps(ChordDefaultProps), withState('currentArc', 'setCurrentArc', null), withState('currentRibbon', 'setCurrentRibbon', null), withMotion(), withTheme(), withDimensions(), withPropsOnChange(['label'], function (_ref) {\n    var label = _ref.label;\n    return {\n      getLabel: getLabelGenerator(label)\n    };\n  }), withPropsOnChange(['padAngle'], function (_ref2) {\n    var padAngle = _ref2.padAngle;\n    return {\n      chord: d3Chord().padAngle(padAngle)\n    };\n  }), withPropsOnChange(['labelTextColor'], function (_ref3) {\n    var labelTextColor = _ref3.labelTextColor;\n    return {\n      getLabelTextColor: getInheritedColorGenerator(labelTextColor, 'labels.textColor')\n    };\n  }), withPropsOnChange(['colors', 'keys'], function (_ref4) {\n    var colors = _ref4.colors,\n        keys = _ref4.keys;\n    var color = getColorRange(colors);\n    return {\n      colorById: keys.reduce(function (acc, key) {\n        acc[key] = color(key);\n        return acc;\n      }, {})\n    };\n  }), withPropsOnChange(['width', 'height', 'innerRadiusRatio', 'innerRadiusOffset'], function (_ref5) {\n    var width = _ref5.width,\n        height = _ref5.height,\n        innerRadiusRatio = _ref5.innerRadiusRatio,\n        innerRadiusOffset = _ref5.innerRadiusOffset;\n    var radius = Math.min(width, height) / 2;\n    var innerRadius = radius * innerRadiusRatio;\n    var ribbonRadius = radius * (innerRadiusRatio - innerRadiusOffset);\n    var arcGenerator = d3Arc().outerRadius(radius).innerRadius(innerRadius);\n    var ribbonGenerator = d3Ribbon().radius(ribbonRadius);\n    return {\n      radius: radius,\n      innerRadius: innerRadius,\n      arcGenerator: arcGenerator,\n      ribbonGenerator: ribbonGenerator\n    };\n  }), withPropsOnChange(['arcOpacity', 'ribbonOpacity'], function (_ref6) {\n    var arcOpacity = _ref6.arcOpacity,\n        ribbonOpacity = _ref6.ribbonOpacity;\n    return {\n      getArcOpacity: function getArcOpacity() {\n        return arcOpacity;\n      },\n      getRibbonOpacity: function getRibbonOpacity() {\n        return ribbonOpacity;\n      }\n    };\n  }), withPropsOnChange(['isInteractive', 'currentArc', 'arcHoverOpacity', 'arcHoverOthersOpacity', 'currentRibbon', 'ribbonHoverOpacity', 'ribbonHoverOthersOpacity'], function (_ref7) {\n    var isInteractive = _ref7.isInteractive,\n        currentArc = _ref7.currentArc,\n        arcHoverOpacity = _ref7.arcHoverOpacity,\n        arcHoverOthersOpacity = _ref7.arcHoverOthersOpacity,\n        currentRibbon = _ref7.currentRibbon,\n        ribbonHoverOpacity = _ref7.ribbonHoverOpacity,\n        ribbonHoverOthersOpacity = _ref7.ribbonHoverOthersOpacity;\n    if (!isInteractive || !currentArc && !currentRibbon) return null;\n    var getArcOpacity = void 0;\n    var getRibbonOpacity = void 0;\n\n    if (isInteractive) {\n      if (currentArc) {\n        getArcOpacity = function getArcOpacity(arc) {\n          if (arc.id === currentArc.id) return arcHoverOpacity;\n          return arcHoverOthersOpacity;\n        };\n\n        getRibbonOpacity = function getRibbonOpacity(ribbon) {\n          if (ribbon.source.id === currentArc.id || ribbon.target.id === currentArc.id) return ribbonHoverOpacity;\n          return ribbonHoverOthersOpacity;\n        };\n      } else if (currentRibbon) {\n        getArcOpacity = function getArcOpacity(arc) {\n          if (arc.id === currentRibbon.source.id || arc.id === currentRibbon.target.id) return arcHoverOpacity;\n          return arcHoverOthersOpacity;\n        };\n\n        getRibbonOpacity = function getRibbonOpacity(ribbon) {\n          if (ribbon.source.id === currentRibbon.source.id && ribbon.target.id === currentRibbon.target.id) return ribbonHoverOpacity;\n          return ribbonHoverOthersOpacity;\n        };\n      }\n    }\n\n    return {\n      getArcOpacity: getArcOpacity,\n      getRibbonOpacity: getRibbonOpacity\n    };\n  }), withPropsOnChange(['chord', 'colorById', 'matrix', 'keys'], function (_ref8) {\n    var chord = _ref8.chord,\n        colorById = _ref8.colorById,\n        matrix = _ref8.matrix,\n        keys = _ref8.keys;\n    var ribbons = chord(matrix);\n    ribbons.forEach(function (ribbon) {\n      ribbon.source.id = keys[ribbon.source.index];\n      ribbon.source.color = colorById[ribbon.source.id];\n      ribbon.target.id = keys[ribbon.target.index];\n      ribbon.target.color = colorById[ribbon.target.id];\n      var ribbonKeys = [ribbon.source.id, ribbon.target.id];\n      ribbonKeys.sort();\n      ribbon.key = ribbonKeys.sort().join('.');\n    });\n    var arcs = ribbons.groups.map(function (arc) {\n      arc.key = arc.id = keys[arc.index];\n      arc.color = colorById[arc.id];\n      return arc;\n    });\n    return {\n      ribbons: ribbons,\n      arcs: arcs\n    };\n  }), withPropsOnChange(['arcBorderColor'], function (_ref9) {\n    var arcBorderColor = _ref9.arcBorderColor;\n    return {\n      getArcBorderColor: getInheritedColorGenerator(arcBorderColor)\n    };\n  }), withPropsOnChange(['ribbonBorderColor'], function (_ref10) {\n    var ribbonBorderColor = _ref10.ribbonBorderColor;\n    return {\n      getRibbonBorderColor: getInheritedColorGenerator(ribbonBorderColor)\n    };\n  }), pure)(Component);\n});","map":{"version":3,"sources":["/Users/tom/Documents/MSE/zz_MasterThesis/06_FirmwareDroid/firmware-droid-client/node_modules/nivo/es/components/charts/chord/enhance.js"],"names":["compose","defaultProps","withState","withPropsOnChange","pure","arc","d3Arc","chord","d3Chord","ribbon","d3Ribbon","getInheritedColorGenerator","getColorRange","getLabelGenerator","withMotion","withTheme","withDimensions","ChordDefaultProps","Component","_ref","label","getLabel","_ref2","padAngle","_ref3","labelTextColor","getLabelTextColor","_ref4","colors","keys","color","colorById","reduce","acc","key","_ref5","width","height","innerRadiusRatio","innerRadiusOffset","radius","Math","min","innerRadius","ribbonRadius","arcGenerator","outerRadius","ribbonGenerator","_ref6","arcOpacity","ribbonOpacity","getArcOpacity","getRibbonOpacity","_ref7","isInteractive","currentArc","arcHoverOpacity","arcHoverOthersOpacity","currentRibbon","ribbonHoverOpacity","ribbonHoverOthersOpacity","id","source","target","_ref8","matrix","ribbons","forEach","index","ribbonKeys","sort","join","arcs","groups","map","_ref9","arcBorderColor","getArcBorderColor","_ref10","ribbonBorderColor","getRibbonBorderColor"],"mappings":"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","sourcesContent":["/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, RaphaÃ«l Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport compose from 'recompose/compose';\nimport defaultProps from 'recompose/defaultProps';\nimport withState from 'recompose/withState';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport pure from 'recompose/pure';\nimport { arc as d3Arc } from 'd3-shape';\nimport { chord as d3Chord, ribbon as d3Ribbon } from 'd3-chord';\nimport { getInheritedColorGenerator, getColorRange } from '../../../lib/colors';\nimport { getLabelGenerator } from '../../../lib/propertiesConverters';\nimport { withMotion, withTheme, withDimensions } from '../../../hocs';\nimport { ChordDefaultProps } from './props';\n\nexport default (function (Component) {\n    return compose(defaultProps(ChordDefaultProps), withState('currentArc', 'setCurrentArc', null), withState('currentRibbon', 'setCurrentRibbon', null), withMotion(), withTheme(), withDimensions(), withPropsOnChange(['label'], function (_ref) {\n        var label = _ref.label;\n        return {\n            getLabel: getLabelGenerator(label)\n        };\n    }), withPropsOnChange(['padAngle'], function (_ref2) {\n        var padAngle = _ref2.padAngle;\n        return {\n            chord: d3Chord().padAngle(padAngle)\n        };\n    }), withPropsOnChange(['labelTextColor'], function (_ref3) {\n        var labelTextColor = _ref3.labelTextColor;\n        return {\n            getLabelTextColor: getInheritedColorGenerator(labelTextColor, 'labels.textColor')\n        };\n    }), withPropsOnChange(['colors', 'keys'], function (_ref4) {\n        var colors = _ref4.colors,\n            keys = _ref4.keys;\n\n        var color = getColorRange(colors);\n\n        return {\n            colorById: keys.reduce(function (acc, key) {\n                acc[key] = color(key);\n                return acc;\n            }, {})\n        };\n    }), withPropsOnChange(['width', 'height', 'innerRadiusRatio', 'innerRadiusOffset'], function (_ref5) {\n        var width = _ref5.width,\n            height = _ref5.height,\n            innerRadiusRatio = _ref5.innerRadiusRatio,\n            innerRadiusOffset = _ref5.innerRadiusOffset;\n\n        var radius = Math.min(width, height) / 2;\n        var innerRadius = radius * innerRadiusRatio;\n        var ribbonRadius = radius * (innerRadiusRatio - innerRadiusOffset);\n\n        var arcGenerator = d3Arc().outerRadius(radius).innerRadius(innerRadius);\n        var ribbonGenerator = d3Ribbon().radius(ribbonRadius);\n\n        return { radius: radius, innerRadius: innerRadius, arcGenerator: arcGenerator, ribbonGenerator: ribbonGenerator };\n    }), withPropsOnChange(['arcOpacity', 'ribbonOpacity'], function (_ref6) {\n        var arcOpacity = _ref6.arcOpacity,\n            ribbonOpacity = _ref6.ribbonOpacity;\n        return {\n            getArcOpacity: function getArcOpacity() {\n                return arcOpacity;\n            },\n            getRibbonOpacity: function getRibbonOpacity() {\n                return ribbonOpacity;\n            }\n        };\n    }), withPropsOnChange(['isInteractive', 'currentArc', 'arcHoverOpacity', 'arcHoverOthersOpacity', 'currentRibbon', 'ribbonHoverOpacity', 'ribbonHoverOthersOpacity'], function (_ref7) {\n        var isInteractive = _ref7.isInteractive,\n            currentArc = _ref7.currentArc,\n            arcHoverOpacity = _ref7.arcHoverOpacity,\n            arcHoverOthersOpacity = _ref7.arcHoverOthersOpacity,\n            currentRibbon = _ref7.currentRibbon,\n            ribbonHoverOpacity = _ref7.ribbonHoverOpacity,\n            ribbonHoverOthersOpacity = _ref7.ribbonHoverOthersOpacity;\n\n        if (!isInteractive || !currentArc && !currentRibbon) return null;\n\n        var getArcOpacity = void 0;\n        var getRibbonOpacity = void 0;\n        if (isInteractive) {\n            if (currentArc) {\n                getArcOpacity = function getArcOpacity(arc) {\n                    if (arc.id === currentArc.id) return arcHoverOpacity;\n                    return arcHoverOthersOpacity;\n                };\n                getRibbonOpacity = function getRibbonOpacity(ribbon) {\n                    if (ribbon.source.id === currentArc.id || ribbon.target.id === currentArc.id) return ribbonHoverOpacity;\n                    return ribbonHoverOthersOpacity;\n                };\n            } else if (currentRibbon) {\n                getArcOpacity = function getArcOpacity(arc) {\n                    if (arc.id === currentRibbon.source.id || arc.id === currentRibbon.target.id) return arcHoverOpacity;\n                    return arcHoverOthersOpacity;\n                };\n                getRibbonOpacity = function getRibbonOpacity(ribbon) {\n                    if (ribbon.source.id === currentRibbon.source.id && ribbon.target.id === currentRibbon.target.id) return ribbonHoverOpacity;\n                    return ribbonHoverOthersOpacity;\n                };\n            }\n        }\n\n        return { getArcOpacity: getArcOpacity, getRibbonOpacity: getRibbonOpacity };\n    }), withPropsOnChange(['chord', 'colorById', 'matrix', 'keys'], function (_ref8) {\n        var chord = _ref8.chord,\n            colorById = _ref8.colorById,\n            matrix = _ref8.matrix,\n            keys = _ref8.keys;\n\n        var ribbons = chord(matrix);\n        ribbons.forEach(function (ribbon) {\n            ribbon.source.id = keys[ribbon.source.index];\n            ribbon.source.color = colorById[ribbon.source.id];\n            ribbon.target.id = keys[ribbon.target.index];\n            ribbon.target.color = colorById[ribbon.target.id];\n            var ribbonKeys = [ribbon.source.id, ribbon.target.id];\n            ribbonKeys.sort();\n            ribbon.key = ribbonKeys.sort().join('.');\n        });\n\n        var arcs = ribbons.groups.map(function (arc) {\n            arc.key = arc.id = keys[arc.index];\n            arc.color = colorById[arc.id];\n            return arc;\n        });\n\n        return { ribbons: ribbons, arcs: arcs };\n    }), withPropsOnChange(['arcBorderColor'], function (_ref9) {\n        var arcBorderColor = _ref9.arcBorderColor;\n        return {\n            getArcBorderColor: getInheritedColorGenerator(arcBorderColor)\n        };\n    }), withPropsOnChange(['ribbonBorderColor'], function (_ref10) {\n        var ribbonBorderColor = _ref10.ribbonBorderColor;\n        return {\n            getRibbonBorderColor: getInheritedColorGenerator(ribbonBorderColor)\n        };\n    }), pure)(Component);\n});"]},"metadata":{},"sourceType":"module"}