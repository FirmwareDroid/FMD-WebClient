{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\n\nimport React from 'react';\nimport { Motion, TransitionMotion, spring } from 'react-motion';\nimport { getInheritedColorGenerator } from '../../../lib/colors';\nimport { getLabelGenerator } from '../../../lib/propertiesConverters';\nimport { degreesToRadians, radiansToDegrees } from '../../../lib/polar';\nimport { bindDefs } from '../../../lib/defs';\nimport Container from '../Container';\nimport SvgWrapper from '../SvgWrapper';\nimport { pie as d3Pie, arc as d3Arc } from 'd3-shape';\nimport PieRadialLabels from './PieRadialLabels';\nimport PieSlicesLabels from './PieSlicesLabels';\nimport BasicTooltip from '../../tooltip/BasicTooltip';\nimport { PiePropTypes } from './props';\nimport enhance from './enhance';\n\nvar Pie = function Pie(_ref) {\n  var data = _ref.data,\n      margin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      outerWidth = _ref.outerWidth,\n      outerHeight = _ref.outerHeight,\n      sortByValue = _ref.sortByValue,\n      _innerRadius = _ref.innerRadius,\n      _padAngle = _ref.padAngle,\n      cornerRadius = _ref.cornerRadius,\n      borderWidth = _ref.borderWidth,\n      _borderColor = _ref.borderColor,\n      enableRadialLabels = _ref.enableRadialLabels,\n      radialLabel = _ref.radialLabel,\n      radialLabelsSkipAngle = _ref.radialLabelsSkipAngle,\n      radialLabelsLinkOffset = _ref.radialLabelsLinkOffset,\n      radialLabelsLinkDiagonalLength = _ref.radialLabelsLinkDiagonalLength,\n      radialLabelsLinkHorizontalLength = _ref.radialLabelsLinkHorizontalLength,\n      radialLabelsLinkStrokeWidth = _ref.radialLabelsLinkStrokeWidth,\n      radialLabelsTextXOffset = _ref.radialLabelsTextXOffset,\n      radialLabelsTextColor = _ref.radialLabelsTextColor,\n      radialLabelsLinkColor = _ref.radialLabelsLinkColor,\n      enableSlicesLabels = _ref.enableSlicesLabels,\n      sliceLabel = _ref.sliceLabel,\n      slicesLabelsSkipAngle = _ref.slicesLabelsSkipAngle,\n      slicesLabelsTextColor = _ref.slicesLabelsTextColor,\n      theme = _ref.theme,\n      getColor = _ref.getColor,\n      defs = _ref.defs,\n      fill = _ref.fill,\n      animate = _ref.animate,\n      motionStiffness = _ref.motionStiffness,\n      motionDamping = _ref.motionDamping,\n      isInteractive = _ref.isInteractive,\n      tooltipFormat = _ref.tooltipFormat;\n  var centerX = width / 2;\n  var centerY = height / 2;\n  var padAngle = degreesToRadians(_padAngle);\n  var borderColor = getInheritedColorGenerator(_borderColor);\n  var motionProps = {\n    animate: animate,\n    motionDamping: motionDamping,\n    motionStiffness: motionStiffness\n  };\n  var radialLabelsProps = {\n    label: getLabelGenerator(radialLabel),\n    skipAngle: radialLabelsSkipAngle,\n    linkOffset: radialLabelsLinkOffset,\n    linkDiagonalLength: radialLabelsLinkDiagonalLength,\n    linkHorizontalLength: radialLabelsLinkHorizontalLength,\n    linkStrokeWidth: radialLabelsLinkStrokeWidth,\n    textXOffset: radialLabelsTextXOffset,\n    textColor: getInheritedColorGenerator(radialLabelsTextColor, 'labels.textColor'),\n    linkColor: getInheritedColorGenerator(radialLabelsLinkColor, 'axis.tickColor')\n  };\n  var slicesLabelsProps = {\n    label: getLabelGenerator(sliceLabel),\n    skipAngle: slicesLabelsSkipAngle,\n    textColor: getInheritedColorGenerator(slicesLabelsTextColor, 'labels.textColor')\n  };\n  var radius = Math.min(width, height) / 2;\n  var innerRadius = radius * Math.min(_innerRadius, 1);\n  var pie = d3Pie();\n  pie.value(function (d) {\n    return d.value;\n  });\n  if (sortByValue !== true) pie.sortValues(null);\n  var arc = d3Arc();\n  arc.outerRadius(radius);\n  var enhancedData = data.map(function (d) {\n    var color = getColor(d);\n    return _extends({}, d, {\n      color: color\n    });\n  });\n  var boundDefs = bindDefs(defs, enhancedData, fill);\n  return React.createElement(Container, {\n    isInteractive: isInteractive,\n    theme: theme\n  }, function (_ref2) {\n    var showTooltip = _ref2.showTooltip,\n        hideTooltip = _ref2.hideTooltip;\n    return React.createElement(SvgWrapper, {\n      width: outerWidth,\n      height: outerHeight,\n      margin: margin,\n      defs: boundDefs\n    }, React.createElement(Motion, {\n      style: {\n        centerX: spring(centerX, motionProps),\n        centerY: spring(centerY, motionProps),\n        innerRadius: spring(innerRadius),\n        padAngle: spring(padAngle, motionProps),\n        cornerRadius: spring(cornerRadius, motionProps)\n      }\n    }, function (interpolatingStyle) {\n      var interpolatedPie = pie.padAngle(interpolatingStyle.padAngle);\n      var interpolatedArc = arc.cornerRadius(interpolatingStyle.cornerRadius).innerRadius(interpolatingStyle.innerRadius);\n      var arcsData = interpolatedPie(enhancedData).map(function (d) {\n        var angle = d.endAngle - d.startAngle;\n        return _extends({}, d, {\n          angle: angle,\n          angleDegrees: radiansToDegrees(angle),\n          data: d.data\n        });\n      });\n      return React.createElement('g', {\n        transform: 'translate(' + interpolatingStyle.centerX + ', ' + interpolatingStyle.centerY + ')'\n      }, arcsData.map(function (d) {\n        var handleTooltip = function handleTooltip(e) {\n          return showTooltip(React.createElement(BasicTooltip, {\n            id: d.data.label,\n            value: d.data.value,\n            enableChip: true,\n            color: d.data.color,\n            theme: theme,\n            format: tooltipFormat\n          }), e);\n        };\n\n        return React.createElement('path', {\n          key: d.data.id,\n          d: interpolatedArc(d),\n          fill: d.data.fill ? d.data.fill : d.data.color,\n          strokeWidth: borderWidth,\n          stroke: borderColor(d.data),\n          onMouseEnter: handleTooltip,\n          onMouseMove: handleTooltip,\n          onMouseLeave: hideTooltip\n        });\n      }), enableSlicesLabels && React.createElement(PieSlicesLabels, _extends({\n        data: arcsData,\n        radius: radius,\n        innerRadius: interpolatingStyle.innerRadius,\n        theme: theme\n      }, slicesLabelsProps)), enableRadialLabels && React.createElement(PieRadialLabels, _extends({\n        data: arcsData,\n        radius: radius,\n        theme: theme\n      }, radialLabelsProps)));\n    }));\n  });\n};\n\nPie.propTypes = PiePropTypes;\nvar enhancedPie = enhance(Pie);\nenhancedPie.displayName = 'enhance(Pie)';\nexport default enhancedPie;","map":{"version":3,"sources":["/Users/tom/Documents/MSE/zz_MasterThesis/06_FirmwareDroid/firmware-droid-client/node_modules/nivo/es/components/charts/pie/Pie.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","React","Motion","TransitionMotion","spring","getInheritedColorGenerator","getLabelGenerator","degreesToRadians","radiansToDegrees","bindDefs","Container","SvgWrapper","pie","d3Pie","arc","d3Arc","PieRadialLabels","PieSlicesLabels","BasicTooltip","PiePropTypes","enhance","Pie","_ref","data","margin","width","height","outerWidth","outerHeight","sortByValue","_innerRadius","innerRadius","_padAngle","padAngle","cornerRadius","borderWidth","_borderColor","borderColor","enableRadialLabels","radialLabel","radialLabelsSkipAngle","radialLabelsLinkOffset","radialLabelsLinkDiagonalLength","radialLabelsLinkHorizontalLength","radialLabelsLinkStrokeWidth","radialLabelsTextXOffset","radialLabelsTextColor","radialLabelsLinkColor","enableSlicesLabels","sliceLabel","slicesLabelsSkipAngle","slicesLabelsTextColor","theme","getColor","defs","fill","animate","motionStiffness","motionDamping","isInteractive","tooltipFormat","centerX","centerY","motionProps","radialLabelsProps","label","skipAngle","linkOffset","linkDiagonalLength","linkHorizontalLength","linkStrokeWidth","textXOffset","textColor","linkColor","slicesLabelsProps","radius","Math","min","value","d","sortValues","outerRadius","enhancedData","map","color","boundDefs","createElement","_ref2","showTooltip","hideTooltip","style","interpolatingStyle","interpolatedPie","interpolatedArc","arcsData","angle","endAngle","startAngle","angleDegrees","transform","handleTooltip","e","id","enableChip","format","strokeWidth","stroke","onMouseEnter","onMouseMove","onMouseLeave","propTypes","enhancedPie","displayName"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react';\nimport { Motion, TransitionMotion, spring } from 'react-motion';\nimport { getInheritedColorGenerator } from '../../../lib/colors';\nimport { getLabelGenerator } from '../../../lib/propertiesConverters';\nimport { degreesToRadians, radiansToDegrees } from '../../../lib/polar';\nimport { bindDefs } from '../../../lib/defs';\nimport Container from '../Container';\nimport SvgWrapper from '../SvgWrapper';\nimport { pie as d3Pie, arc as d3Arc } from 'd3-shape';\nimport PieRadialLabels from './PieRadialLabels';\nimport PieSlicesLabels from './PieSlicesLabels';\nimport BasicTooltip from '../../tooltip/BasicTooltip';\nimport { PiePropTypes } from './props';\nimport enhance from './enhance';\n\nvar Pie = function Pie(_ref) {\n    var data = _ref.data,\n        margin = _ref.margin,\n        width = _ref.width,\n        height = _ref.height,\n        outerWidth = _ref.outerWidth,\n        outerHeight = _ref.outerHeight,\n        sortByValue = _ref.sortByValue,\n        _innerRadius = _ref.innerRadius,\n        _padAngle = _ref.padAngle,\n        cornerRadius = _ref.cornerRadius,\n        borderWidth = _ref.borderWidth,\n        _borderColor = _ref.borderColor,\n        enableRadialLabels = _ref.enableRadialLabels,\n        radialLabel = _ref.radialLabel,\n        radialLabelsSkipAngle = _ref.radialLabelsSkipAngle,\n        radialLabelsLinkOffset = _ref.radialLabelsLinkOffset,\n        radialLabelsLinkDiagonalLength = _ref.radialLabelsLinkDiagonalLength,\n        radialLabelsLinkHorizontalLength = _ref.radialLabelsLinkHorizontalLength,\n        radialLabelsLinkStrokeWidth = _ref.radialLabelsLinkStrokeWidth,\n        radialLabelsTextXOffset = _ref.radialLabelsTextXOffset,\n        radialLabelsTextColor = _ref.radialLabelsTextColor,\n        radialLabelsLinkColor = _ref.radialLabelsLinkColor,\n        enableSlicesLabels = _ref.enableSlicesLabels,\n        sliceLabel = _ref.sliceLabel,\n        slicesLabelsSkipAngle = _ref.slicesLabelsSkipAngle,\n        slicesLabelsTextColor = _ref.slicesLabelsTextColor,\n        theme = _ref.theme,\n        getColor = _ref.getColor,\n        defs = _ref.defs,\n        fill = _ref.fill,\n        animate = _ref.animate,\n        motionStiffness = _ref.motionStiffness,\n        motionDamping = _ref.motionDamping,\n        isInteractive = _ref.isInteractive,\n        tooltipFormat = _ref.tooltipFormat;\n\n    var centerX = width / 2;\n    var centerY = height / 2;\n\n    var padAngle = degreesToRadians(_padAngle);\n\n    var borderColor = getInheritedColorGenerator(_borderColor);\n\n    var motionProps = {\n        animate: animate,\n        motionDamping: motionDamping,\n        motionStiffness: motionStiffness\n    };\n\n    var radialLabelsProps = {\n        label: getLabelGenerator(radialLabel),\n        skipAngle: radialLabelsSkipAngle,\n        linkOffset: radialLabelsLinkOffset,\n        linkDiagonalLength: radialLabelsLinkDiagonalLength,\n        linkHorizontalLength: radialLabelsLinkHorizontalLength,\n        linkStrokeWidth: radialLabelsLinkStrokeWidth,\n        textXOffset: radialLabelsTextXOffset,\n        textColor: getInheritedColorGenerator(radialLabelsTextColor, 'labels.textColor'),\n        linkColor: getInheritedColorGenerator(radialLabelsLinkColor, 'axis.tickColor')\n    };\n\n    var slicesLabelsProps = {\n        label: getLabelGenerator(sliceLabel),\n        skipAngle: slicesLabelsSkipAngle,\n        textColor: getInheritedColorGenerator(slicesLabelsTextColor, 'labels.textColor')\n    };\n\n    var radius = Math.min(width, height) / 2;\n    var innerRadius = radius * Math.min(_innerRadius, 1);\n\n    var pie = d3Pie();\n    pie.value(function (d) {\n        return d.value;\n    });\n    if (sortByValue !== true) pie.sortValues(null);\n\n    var arc = d3Arc();\n    arc.outerRadius(radius);\n\n    var enhancedData = data.map(function (d) {\n        var color = getColor(d);\n        return _extends({}, d, { color: color });\n    });\n\n    var boundDefs = bindDefs(defs, enhancedData, fill);\n\n    return React.createElement(\n        Container,\n        { isInteractive: isInteractive, theme: theme },\n        function (_ref2) {\n            var showTooltip = _ref2.showTooltip,\n                hideTooltip = _ref2.hideTooltip;\n            return React.createElement(\n                SvgWrapper,\n                {\n                    width: outerWidth,\n                    height: outerHeight,\n                    margin: margin,\n                    defs: boundDefs\n                },\n                React.createElement(\n                    Motion,\n                    {\n                        style: {\n                            centerX: spring(centerX, motionProps),\n                            centerY: spring(centerY, motionProps),\n                            innerRadius: spring(innerRadius),\n                            padAngle: spring(padAngle, motionProps),\n                            cornerRadius: spring(cornerRadius, motionProps)\n                        }\n                    },\n                    function (interpolatingStyle) {\n                        var interpolatedPie = pie.padAngle(interpolatingStyle.padAngle);\n                        var interpolatedArc = arc.cornerRadius(interpolatingStyle.cornerRadius).innerRadius(interpolatingStyle.innerRadius);\n\n                        var arcsData = interpolatedPie(enhancedData).map(function (d) {\n                            var angle = d.endAngle - d.startAngle;\n\n                            return _extends({}, d, {\n                                angle: angle,\n                                angleDegrees: radiansToDegrees(angle),\n                                data: d.data\n                            });\n                        });\n\n                        return React.createElement(\n                            'g',\n                            {\n                                transform: 'translate(' + interpolatingStyle.centerX + ', ' + interpolatingStyle.centerY + ')'\n                            },\n                            arcsData.map(function (d) {\n                                var handleTooltip = function handleTooltip(e) {\n                                    return showTooltip(React.createElement(BasicTooltip, {\n                                        id: d.data.label,\n                                        value: d.data.value,\n                                        enableChip: true,\n                                        color: d.data.color,\n                                        theme: theme,\n                                        format: tooltipFormat\n                                    }), e);\n                                };\n\n                                return React.createElement('path', {\n                                    key: d.data.id,\n                                    d: interpolatedArc(d),\n                                    fill: d.data.fill ? d.data.fill : d.data.color,\n                                    strokeWidth: borderWidth,\n                                    stroke: borderColor(d.data),\n                                    onMouseEnter: handleTooltip,\n                                    onMouseMove: handleTooltip,\n                                    onMouseLeave: hideTooltip\n                                });\n                            }),\n                            enableSlicesLabels && React.createElement(PieSlicesLabels, _extends({\n                                data: arcsData,\n                                radius: radius,\n                                innerRadius: interpolatingStyle.innerRadius,\n                                theme: theme\n                            }, slicesLabelsProps)),\n                            enableRadialLabels && React.createElement(PieRadialLabels, _extends({\n                                data: arcsData,\n                                radius: radius,\n                                theme: theme\n                            }, radialLabelsProps))\n                        );\n                    }\n                )\n            );\n        }\n    );\n};\n\nPie.propTypes = PiePropTypes;\n\nvar enhancedPie = enhance(Pie);\nenhancedPie.displayName = 'enhance(Pie)';\n\nexport default enhancedPie;"]},"metadata":{},"sourceType":"module"}