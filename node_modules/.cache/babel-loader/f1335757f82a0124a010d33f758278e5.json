{"ast":null,"code":"import _range from 'lodash/range';\nimport _max from 'lodash/max';\nimport _min from 'lodash/min';\n/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nimport React from 'react';\nimport { stack as d3Stack, area } from 'd3-shape';\nimport { scaleLinear, scalePoint } from 'd3-scale';\nimport compose from 'recompose/compose';\nimport defaultProps from 'recompose/defaultProps';\nimport pure from 'recompose/pure';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport { stackOrderFromProp, stackOffsetFromProp } from '../../../props';\nimport { withTheme, withCurve, withDimensions, withMotion } from '../../../hocs';\nimport { getColorRange, getInheritedColorGenerator } from '../../../lib/colors';\nimport { StreamDefaultProps } from './props';\n\nvar stackMin = function stackMin(layers) {\n  return _min(layers.reduce(function (acc, layer) {\n    return [].concat(acc, layer.map(function (d) {\n      return d[0];\n    }));\n  }, []));\n};\n\nvar stackMax = function stackMax(layers) {\n  return _max(layers.reduce(function (acc, layer) {\n    return [].concat(acc, layer.map(function (d) {\n      return d[1];\n    }));\n  }, []));\n};\n\nexport default (function (Component) {\n  return compose(defaultProps(StreamDefaultProps), withTheme(), withCurve(), withDimensions(), withMotion(), withPropsOnChange(['curveInterpolator'], function (_ref) {\n    var curveInterpolator = _ref.curveInterpolator;\n    return {\n      areaGenerator: area().x(function (_ref2) {\n        var x = _ref2.x;\n        return x;\n      }).y0(function (_ref3) {\n        var y1 = _ref3.y1;\n        return y1;\n      }).y1(function (_ref4) {\n        var y2 = _ref4.y2;\n        return y2;\n      }).curve(curveInterpolator)\n    };\n  }), withPropsOnChange(['colors'], function (_ref5) {\n    var colors = _ref5.colors;\n    return {\n      getColor: getColorRange(colors)\n    };\n  }), withPropsOnChange(['borderColor'], function (_ref6) {\n    var borderColor = _ref6.borderColor;\n    return {\n      getBorderColor: getInheritedColorGenerator(borderColor)\n    };\n  }), withPropsOnChange(['keys', 'offsetType', 'order'], function (_ref7) {\n    var keys = _ref7.keys,\n        offsetType = _ref7.offsetType,\n        order = _ref7.order;\n    return {\n      stack: d3Stack().keys(keys).offset(stackOffsetFromProp(offsetType)).order(stackOrderFromProp(order))\n    };\n  }), withPropsOnChange(['stack', 'data', 'width', 'height'], function (_ref8) {\n    var stack = _ref8.stack,\n        data = _ref8.data,\n        width = _ref8.width,\n        height = _ref8.height;\n    var layers = stack(data);\n    layers.forEach(function (layer) {\n      layer.forEach(function (point) {\n        point.value = point.data[layer.key];\n      });\n    });\n    var minValue = stackMin(layers);\n    var maxValue = stackMax(layers);\n    return {\n      layers: layers,\n      xScale: scalePoint().domain(_range(data.length)).range([0, width]),\n      yScale: scaleLinear().domain([minValue, maxValue]).range([height, 0])\n    };\n  }), pure)(Component);\n});","map":{"version":3,"sources":["/Users/tom/Documents/MSE/zz_MasterThesis/06_FirmwareDroid/firmware-droid-client/node_modules/nivo/es/components/charts/stream/enhance.js"],"names":["_range","_max","_min","React","stack","d3Stack","area","scaleLinear","scalePoint","compose","defaultProps","pure","withPropsOnChange","stackOrderFromProp","stackOffsetFromProp","withTheme","withCurve","withDimensions","withMotion","getColorRange","getInheritedColorGenerator","StreamDefaultProps","stackMin","layers","reduce","acc","layer","concat","map","d","stackMax","Component","_ref","curveInterpolator","areaGenerator","x","_ref2","y0","_ref3","y1","_ref4","y2","curve","_ref5","colors","getColor","_ref6","borderColor","getBorderColor","_ref7","keys","offsetType","order","offset","_ref8","data","width","height","forEach","point","value","key","minValue","maxValue","xScale","domain","length","range","yScale"],"mappings":"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","sourcesContent":["import _range from 'lodash/range';\nimport _max from 'lodash/max';\nimport _min from 'lodash/min';\n/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react';\n\nimport { stack as d3Stack, area } from 'd3-shape';\nimport { scaleLinear, scalePoint } from 'd3-scale';\nimport compose from 'recompose/compose';\nimport defaultProps from 'recompose/defaultProps';\nimport pure from 'recompose/pure';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport { stackOrderFromProp, stackOffsetFromProp } from '../../../props';\nimport { withTheme, withCurve, withDimensions, withMotion } from '../../../hocs';\nimport { getColorRange, getInheritedColorGenerator } from '../../../lib/colors';\nimport { StreamDefaultProps } from './props';\n\nvar stackMin = function stackMin(layers) {\n    return _min(layers.reduce(function (acc, layer) {\n        return [].concat(acc, layer.map(function (d) {\n            return d[0];\n        }));\n    }, []));\n};\nvar stackMax = function stackMax(layers) {\n    return _max(layers.reduce(function (acc, layer) {\n        return [].concat(acc, layer.map(function (d) {\n            return d[1];\n        }));\n    }, []));\n};\n\nexport default (function (Component) {\n    return compose(defaultProps(StreamDefaultProps), withTheme(), withCurve(), withDimensions(), withMotion(), withPropsOnChange(['curveInterpolator'], function (_ref) {\n        var curveInterpolator = _ref.curveInterpolator;\n        return {\n            areaGenerator: area().x(function (_ref2) {\n                var x = _ref2.x;\n                return x;\n            }).y0(function (_ref3) {\n                var y1 = _ref3.y1;\n                return y1;\n            }).y1(function (_ref4) {\n                var y2 = _ref4.y2;\n                return y2;\n            }).curve(curveInterpolator)\n        };\n    }), withPropsOnChange(['colors'], function (_ref5) {\n        var colors = _ref5.colors;\n        return {\n            getColor: getColorRange(colors)\n        };\n    }), withPropsOnChange(['borderColor'], function (_ref6) {\n        var borderColor = _ref6.borderColor;\n        return {\n            getBorderColor: getInheritedColorGenerator(borderColor)\n        };\n    }), withPropsOnChange(['keys', 'offsetType', 'order'], function (_ref7) {\n        var keys = _ref7.keys,\n            offsetType = _ref7.offsetType,\n            order = _ref7.order;\n        return {\n            stack: d3Stack().keys(keys).offset(stackOffsetFromProp(offsetType)).order(stackOrderFromProp(order))\n        };\n    }), withPropsOnChange(['stack', 'data', 'width', 'height'], function (_ref8) {\n        var stack = _ref8.stack,\n            data = _ref8.data,\n            width = _ref8.width,\n            height = _ref8.height;\n\n        var layers = stack(data);\n        layers.forEach(function (layer) {\n            layer.forEach(function (point) {\n                point.value = point.data[layer.key];\n            });\n        });\n\n        var minValue = stackMin(layers);\n        var maxValue = stackMax(layers);\n\n        return {\n            layers: layers,\n            xScale: scalePoint().domain(_range(data.length)).range([0, width]),\n            yScale: scaleLinear().domain([minValue, maxValue]).range([height, 0])\n        };\n    }), pure)(Component);\n});"]},"metadata":{},"sourceType":"module"}