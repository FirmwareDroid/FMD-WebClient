{"ast":null,"code":"var _jsxFileName=\"/Users/tom/Documents/MSE/zz_MasterThesis/06_FirmwareDroid/firmware-droid-client/src/views/Dashboard.jsx\";/*!\n\n=========================================================\n* Light Bootstrap Dashboard React - v1.3.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/light-bootstrap-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/import React,{Component}from\"react\";import ChartistGraph from\"react-chartist\";import{Container,Row,Col,Table}from\"react-bootstrap\";import{Card}from\"components/Card/Card.jsx\";import{StatsCard}from\"components/StatsCard/StatsCard.jsx\";import{Tasks}from\"components/Tasks/Tasks.jsx\";import{dataPie,legendPie,dataSales,optionsSales,responsiveSales,legendSales,dataBar,optionsBar,responsiveBar,legendBar,horizontalBar,horizontalOptionsBar,statsEndpoint,thArrayPackageTable}from\"variables/Variables.jsx\";class Dashboard extends Component{constructor(props){super(props);this.state={isLoadingStatsComplete:false,number_of_apps:0,androguard_report_count:0,version_list:[],brand_list:[],model_list:[],number_of_firmware_samples:[],locale_list:[],manufacturer_list:[],packagename_list:[]};}fetch_stats_data(api_endpoint){fetch(api_endpoint).then(response=>{if(response.ok){return response.json();}else{throw new Error('Something went wrong ...');}}).then(data=>{console.log(\"Data received: \"+JSON.stringify(data));this.setState({isLoadingStatsComplete:true,number_of_apps:data.number_of_apps,version_list:data.version_list,brand_list:data.brand_list,model_list:data.model_list,number_of_firmware_samples:data.number_of_firmware_samples,locale_list:data.locale_list,manufacturer_list:data.manufacturer_list,packagename_list:data.packagename_list,androguard_report_count:data.androguard_report_count});}).catch(error=>this.setState({error,isLoadingStatsComplete:false}));}componentDidMount(){this.fetch_stats_data(statsEndpoint);}static createPercentageDict(json_data){console.log(json_data);console.log(JSON.stringify(json_data));let objCount=json_data.item.length;let total_samples=0;for(let x=0;x<objCount;x++){total_samples=total_samples+json_data.item[x];}let percentage_dict={};for(let[key,value]of Object.entries(json_data)){percentage_dict[key]=total_samples/100*value;}return percentage_dict;}static createLegend(json){let legend=[];for(let i=0;i<json[\"names\"].length;i++){let type=\"fa fa-circle text-\"+json[\"types\"][i];legend.push(/*#__PURE__*/React.createElement(\"i\",{className:type,key:i,__self:this,__source:{fileName:_jsxFileName,lineNumber:110,columnNumber:19}}));legend.push(\" \");legend.push(json[\"names\"][i]);}return legend;}render(){const{number_of_apps,isLoadingStatsComplete,packagename_list,number_of_firmware_samples,androguard_report_count,version_list}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"content\",__self:this,__source:{fileName:_jsxFileName,lineNumber:126,columnNumber:7}},/*#__PURE__*/React.createElement(Container,{fluid:true,__self:this,__source:{fileName:_jsxFileName,lineNumber:127,columnNumber:9}},/*#__PURE__*/React.createElement(Row,{__self:this,__source:{fileName:_jsxFileName,lineNumber:128,columnNumber:11}},/*#__PURE__*/React.createElement(Col,{lg:3,sm:6,__self:this,__source:{fileName:_jsxFileName,lineNumber:129,columnNumber:13}},/*#__PURE__*/React.createElement(StatsCard,{bigIcon:/*#__PURE__*/React.createElement(\"i\",{className:\"pe-7s-server text-warning\",__self:this,__source:{fileName:_jsxFileName,lineNumber:131,columnNumber:26}}),statsText:\"Capacity\",statsValue:\"XXXX\",statsIcon:/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-refresh\",__self:this,__source:{fileName:_jsxFileName,lineNumber:134,columnNumber:28}}),statsIconText:\"Updated now\",__self:this,__source:{fileName:_jsxFileName,lineNumber:130,columnNumber:15}})),/*#__PURE__*/React.createElement(Col,{lg:3,sm:6,__self:this,__source:{fileName:_jsxFileName,lineNumber:138,columnNumber:13}},/*#__PURE__*/React.createElement(StatsCard,{bigIcon:/*#__PURE__*/React.createElement(\"i\",{className:\"pe-7s-wallet text-success\",__self:this,__source:{fileName:_jsxFileName,lineNumber:140,columnNumber:26}}),statsText:\"Firmware Samples\",statsValue:number_of_firmware_samples,statsIcon:/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-calendar-o\",__self:this,__source:{fileName:_jsxFileName,lineNumber:143,columnNumber:28}}),statsIconText:\"Last day\",__self:this,__source:{fileName:_jsxFileName,lineNumber:139,columnNumber:15}})),/*#__PURE__*/React.createElement(Col,{lg:3,sm:6,__self:this,__source:{fileName:_jsxFileName,lineNumber:147,columnNumber:13}},/*#__PURE__*/React.createElement(StatsCard,{bigIcon:/*#__PURE__*/React.createElement(\"i\",{className:\"pe-7s-graph1 text-danger\",__self:this,__source:{fileName:_jsxFileName,lineNumber:149,columnNumber:26}}),statsText:\"App Samples\",statsValue:number_of_apps,statsIcon:/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-clock-o\",__self:this,__source:{fileName:_jsxFileName,lineNumber:152,columnNumber:28}}),statsIconText:\"In the last hour\",__self:this,__source:{fileName:_jsxFileName,lineNumber:148,columnNumber:15}})),/*#__PURE__*/React.createElement(Col,{lg:3,sm:6,__self:this,__source:{fileName:_jsxFileName,lineNumber:156,columnNumber:13}},/*#__PURE__*/React.createElement(StatsCard,{bigIcon:/*#__PURE__*/React.createElement(\"i\",{className:\"pe-7s-graph1 text-danger\",__self:this,__source:{fileName:_jsxFileName,lineNumber:158,columnNumber:26}}),statsText:\"AndroGuard Reports\",statsValue:androguard_report_count,statsIcon:/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-clock-o\",__self:this,__source:{fileName:_jsxFileName,lineNumber:161,columnNumber:28}}),statsIconText:\"In the last hour\",__self:this,__source:{fileName:_jsxFileName,lineNumber:157,columnNumber:15}}))),/*#__PURE__*/React.createElement(Row,{__self:this,__source:{fileName:_jsxFileName,lineNumber:166,columnNumber:11}},/*#__PURE__*/React.createElement(Col,{md:4,__self:this,__source:{fileName:_jsxFileName,lineNumber:167,columnNumber:13}},/*#__PURE__*/React.createElement(Card,{title:\"Android Versions\",category:\"Samples by Versions\",content:/*#__PURE__*/React.createElement(\"div\",{id:\"chartPreferences\",className:\"ct-chart ct-perfect-fourth\",__self:this,__source:{fileName:_jsxFileName,lineNumber:172,columnNumber:19}},/*#__PURE__*/React.createElement(ChartistGraph,{isLoadingStatsComplete:isLoadingStatsComplete,data:Dashboard.createPercentageDict(version_list),type:\"Pie\",__self:this,__source:{fileName:_jsxFileName,lineNumber:176,columnNumber:21}})),legend:/*#__PURE__*/React.createElement(\"div\",{className:\"legend\",__self:this,__source:{fileName:_jsxFileName,lineNumber:180,columnNumber:19}},Dashboard.createLegend(legendPie)),__self:this,__source:{fileName:_jsxFileName,lineNumber:168,columnNumber:15}})),/*#__PURE__*/React.createElement(Col,{md:4,__self:this,__source:{fileName:_jsxFileName,lineNumber:184,columnNumber:13}},/*#__PURE__*/React.createElement(Card,{title:\"Permissions usage\",category:\"Most used permissions\",content:/*#__PURE__*/React.createElement(\"div\",{id:\"chartPreferences\",className:\"ct-chart ct-perfect-fourth\",__self:this,__source:{fileName:_jsxFileName,lineNumber:189,columnNumber:19}},/*#__PURE__*/React.createElement(ChartistGraph,{data:dataPie,type:\"Pie\",__self:this,__source:{fileName:_jsxFileName,lineNumber:193,columnNumber:21}})),legend:/*#__PURE__*/React.createElement(\"div\",{className:\"legend\",__self:this,__source:{fileName:_jsxFileName,lineNumber:197,columnNumber:19}},Dashboard.createLegend(legendPie)),__self:this,__source:{fileName:_jsxFileName,lineNumber:185,columnNumber:15}})),/*#__PURE__*/React.createElement(Col,{md:4,__self:this,__source:{fileName:_jsxFileName,lineNumber:201,columnNumber:13}},/*#__PURE__*/React.createElement(Card,{title:\"Certificate Issuer\",category:\"Most issued certificates\",content:/*#__PURE__*/React.createElement(\"div\",{id:\"chartPreferences\",className:\"ct-chart ct-perfect-fourth\",__self:this,__source:{fileName:_jsxFileName,lineNumber:206,columnNumber:19}},/*#__PURE__*/React.createElement(ChartistGraph,{data:dataPie,type:\"Pie\",__self:this,__source:{fileName:_jsxFileName,lineNumber:210,columnNumber:21}})),legend:/*#__PURE__*/React.createElement(\"div\",{className:\"legend\",__self:this,__source:{fileName:_jsxFileName,lineNumber:214,columnNumber:19}},Dashboard.createLegend(legendPie)),__self:this,__source:{fileName:_jsxFileName,lineNumber:202,columnNumber:15}}))),/*#__PURE__*/React.createElement(Row,{__self:this,__source:{fileName:_jsxFileName,lineNumber:220,columnNumber:11}},/*#__PURE__*/React.createElement(Col,{md:6,__self:this,__source:{fileName:_jsxFileName,lineNumber:221,columnNumber:13}},/*#__PURE__*/React.createElement(Card,{id:\"chartActivity\",title:\"Firmware by Region\",category:\"All firmware by locale\",content:/*#__PURE__*/React.createElement(\"div\",{className:\"ct-chart\",__self:this,__source:{fileName:_jsxFileName,lineNumber:227,columnNumber:19}},/*#__PURE__*/React.createElement(ChartistGraph,{data:dataBar,type:\"Bar\",options:optionsBar,responsiveOptions:responsiveBar,__self:this,__source:{fileName:_jsxFileName,lineNumber:228,columnNumber:21}})),legend:/*#__PURE__*/React.createElement(\"div\",{className:\"legend\",__self:this,__source:{fileName:_jsxFileName,lineNumber:237,columnNumber:19}},Dashboard.createLegend(legendBar)),__self:this,__source:{fileName:_jsxFileName,lineNumber:222,columnNumber:15}})),/*#__PURE__*/React.createElement(Col,{md:6,__self:this,__source:{fileName:_jsxFileName,lineNumber:242,columnNumber:13}},/*#__PURE__*/React.createElement(Card,{title:\"Firmware Manufacturer\",category:\"Smartphone manufacturer\",content:/*#__PURE__*/React.createElement(\"div\",{className:\"ct-chart\",__self:this,__source:{fileName:_jsxFileName,lineNumber:247,columnNumber:19}},/*#__PURE__*/React.createElement(ChartistGraph,{data:horizontalBar,type:\"Bar\",options:horizontalOptionsBar,__self:this,__source:{fileName:_jsxFileName,lineNumber:248,columnNumber:21}})),__self:this,__source:{fileName:_jsxFileName,lineNumber:243,columnNumber:15}}))),/*#__PURE__*/React.createElement(Row,{__self:this,__source:{fileName:_jsxFileName,lineNumber:258,columnNumber:11}},/*#__PURE__*/React.createElement(Col,{md:6,__self:this,__source:{fileName:_jsxFileName,lineNumber:259,columnNumber:13}},/*#__PURE__*/React.createElement(Card,{id:\"chartHorBar\",title:\"Firmware Brand\",category:\"All samples sorted by Brand\",content:/*#__PURE__*/React.createElement(\"div\",{className:\"ct-chart\",__self:this,__source:{fileName:_jsxFileName,lineNumber:265,columnNumber:19}},/*#__PURE__*/React.createElement(ChartistGraph,{data:horizontalBar,type:\"Bar\",options:horizontalOptionsBar,__self:this,__source:{fileName:_jsxFileName,lineNumber:266,columnNumber:21}})),legend:/*#__PURE__*/React.createElement(\"div\",{className:\"legend\",__self:this,__source:{fileName:_jsxFileName,lineNumber:274,columnNumber:19}},Dashboard.createLegend(legendBar)),__self:this,__source:{fileName:_jsxFileName,lineNumber:260,columnNumber:15}})),/*#__PURE__*/React.createElement(Col,{md:6,__self:this,__source:{fileName:_jsxFileName,lineNumber:279,columnNumber:13}},/*#__PURE__*/React.createElement(Card,{id:\"chartHorBar1\",title:\"Most installed Apps\",category:\"Occurrence by package name\",content:/*#__PURE__*/React.createElement(\"div\",{className:\"ct-chart\",__self:this,__source:{fileName:_jsxFileName,lineNumber:285,columnNumber:19}},/*#__PURE__*/React.createElement(ChartistGraph,{data:horizontalBar,type:\"Bar\",options:horizontalOptionsBar,__self:this,__source:{fileName:_jsxFileName,lineNumber:286,columnNumber:21}})),legend:/*#__PURE__*/React.createElement(\"div\",{className:\"legend\",__self:this,__source:{fileName:_jsxFileName,lineNumber:294,columnNumber:19}},Dashboard.createLegend(legendBar)),__self:this,__source:{fileName:_jsxFileName,lineNumber:280,columnNumber:15}}))),/*#__PURE__*/React.createElement(Row,{__self:this,__source:{fileName:_jsxFileName,lineNumber:300,columnNumber:11}},/*#__PURE__*/React.createElement(Card,{plain:true,title:\"Top Packagenames\",category:\"Packagename occurance on firmware.\",ctTableFullWidth:true,ctTableResponsive:true,content:/*#__PURE__*/React.createElement(Table,{hover:true,__self:this,__source:{fileName:_jsxFileName,lineNumber:308,columnNumber:17}},/*#__PURE__*/React.createElement(\"thead\",{__self:this,__source:{fileName:_jsxFileName,lineNumber:309,columnNumber:19}},/*#__PURE__*/React.createElement(\"tr\",{__self:this,__source:{fileName:_jsxFileName,lineNumber:310,columnNumber:19}},thArrayPackageTable.map((prop,key)=>{return/*#__PURE__*/React.createElement(\"th\",{key:key,__self:this,__source:{fileName:_jsxFileName,lineNumber:312,columnNumber:30}},prop);}))),/*#__PURE__*/React.createElement(\"tbody\",{__self:this,__source:{fileName:_jsxFileName,lineNumber:316,columnNumber:19}},packagename_list.map((prop,key)=>{return/*#__PURE__*/React.createElement(\"tr\",{key:key,__self:this,__source:{fileName:_jsxFileName,lineNumber:319,columnNumber:23}},prop.map((prop,key)=>{return/*#__PURE__*/React.createElement(\"td\",{key:key,__self:this,__source:{fileName:_jsxFileName,lineNumber:321,columnNumber:34}},prop);}));}))),__self:this,__source:{fileName:_jsxFileName,lineNumber:301,columnNumber:13}}))));}}export default Dashboard;","map":{"version":3,"sources":["/Users/tom/Documents/MSE/zz_MasterThesis/06_FirmwareDroid/firmware-droid-client/src/views/Dashboard.jsx"],"names":["React","Component","ChartistGraph","Container","Row","Col","Table","Card","StatsCard","Tasks","dataPie","legendPie","dataSales","optionsSales","responsiveSales","legendSales","dataBar","optionsBar","responsiveBar","legendBar","horizontalBar","horizontalOptionsBar","statsEndpoint","thArrayPackageTable","Dashboard","constructor","props","state","isLoadingStatsComplete","number_of_apps","androguard_report_count","version_list","brand_list","model_list","number_of_firmware_samples","locale_list","manufacturer_list","packagename_list","fetch_stats_data","api_endpoint","fetch","then","response","ok","json","Error","data","console","log","JSON","stringify","setState","catch","error","componentDidMount","createPercentageDict","json_data","objCount","item","length","total_samples","x","percentage_dict","key","value","Object","entries","createLegend","legend","i","type","push","render","map","prop"],"mappings":"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","sourcesContent":["/*!\n\n=========================================================\n* Light Bootstrap Dashboard React - v1.3.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/light-bootstrap-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/\nimport React, { Component } from \"react\";\nimport ChartistGraph from \"react-chartist\";\nimport { Container, Row, Col, Table } from \"react-bootstrap\";\nimport { Card } from \"components/Card/Card.jsx\";\nimport { StatsCard } from \"components/StatsCard/StatsCard.jsx\";\nimport { Tasks } from \"components/Tasks/Tasks.jsx\";\nimport {\n  dataPie,\n  legendPie,\n  dataSales,\n  optionsSales,\n  responsiveSales,\n  legendSales,\n  dataBar,\n  optionsBar,\n  responsiveBar,\n  legendBar,\n  horizontalBar,\n  horizontalOptionsBar,\n  statsEndpoint,\n  thArrayPackageTable\n} from \"variables/Variables.jsx\";\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoadingStatsComplete: false,\n      number_of_apps: 0,\n      androguard_report_count: 0,\n      version_list: [],\n      brand_list: [],\n      model_list: [],\n      number_of_firmware_samples: [],\n      locale_list: [],\n      manufacturer_list: [],\n      packagename_list: []\n    };\n  }\n\n  fetch_stats_data(api_endpoint, ){\n    fetch(api_endpoint)\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw new Error('Something went wrong ...');\n        }\n      })\n      .then(data => {\n        console.log(\"Data received: \" + JSON.stringify(data));\n        this.setState({\n          isLoadingStatsComplete: true,\n          number_of_apps: data.number_of_apps,\n          version_list: data.version_list,\n          brand_list: data.brand_list,\n          model_list: data.model_list,\n          number_of_firmware_samples: data.number_of_firmware_samples,\n          locale_list: data.locale_list,\n          manufacturer_list: data.manufacturer_list,\n          packagename_list: data.packagename_list,\n          androguard_report_count: data.androguard_report_count\n        })\n      })\n      .catch(error => this.setState({ error, isLoadingStatsComplete: false }));\n  }\n\n  componentDidMount() {\n    this.fetch_stats_data(statsEndpoint)\n\n  }\n\n  static createPercentageDict(json_data){\n    console.log(json_data);\n    console.log(JSON.stringify(json_data));\n    let objCount = json_data.item.length;\n    let total_samples = 0;\n    for (let x=0; x < objCount ; x++ ) {\n      total_samples = total_samples + json_data.item[x];\n    }\n    let percentage_dict = {};\n    for (let [key, value] of Object.entries(json_data)) {\n      percentage_dict[key] = total_samples/100 * value;\n    }\n    return percentage_dict\n  };\n\n\n  static createLegend(json) {\n    let legend = [];\n    for (let i = 0; i < json[\"names\"].length; i++) {\n      let type = \"fa fa-circle text-\" + json[\"types\"][i];\n      legend.push(<i className={type} key={i} />);\n      legend.push(\" \");\n      legend.push(json[\"names\"][i]);\n    }\n    return legend;\n  };\n\n\n  render() {\n    const { number_of_apps,\n      isLoadingStatsComplete,\n      packagename_list,\n      number_of_firmware_samples,\n      androguard_report_count,\n      version_list} = this.state;\n    return (\n      <div className=\"content\">\n        <Container fluid>\n          <Row>\n            <Col lg={3} sm={6}>\n              <StatsCard\n                bigIcon={<i className=\"pe-7s-server text-warning\" />}\n                statsText=\"Capacity\"\n                statsValue=\"XXXX\"\n                statsIcon={<i className=\"fa fa-refresh\" />}\n                statsIconText=\"Updated now\"\n              />\n            </Col>\n            <Col lg={3} sm={6}>\n              <StatsCard\n                bigIcon={<i className=\"pe-7s-wallet text-success\" />}\n                statsText=\"Firmware Samples\"\n                statsValue={number_of_firmware_samples}\n                statsIcon={<i className=\"fa fa-calendar-o\" />}\n                statsIconText=\"Last day\"\n              />\n            </Col>\n            <Col lg={3} sm={6}>\n              <StatsCard\n                bigIcon={<i className=\"pe-7s-graph1 text-danger\" />}\n                statsText=\"App Samples\"\n                statsValue={number_of_apps}\n                statsIcon={<i className=\"fa fa-clock-o\" />}\n                statsIconText=\"In the last hour\"\n              />\n            </Col>\n            <Col lg={3} sm={6}>\n              <StatsCard\n                bigIcon={<i className=\"pe-7s-graph1 text-danger\" />}\n                statsText=\"AndroGuard Reports\"\n                statsValue={androguard_report_count}\n                statsIcon={<i className=\"fa fa-clock-o\" />}\n                statsIconText=\"In the last hour\"\n              />\n            </Col>\n          </Row>\n          <Row>\n            <Col md={4}>\n              <Card\n                title=\"Android Versions\"\n                category=\"Samples by Versions\"\n                content={\n                  <div\n                    id=\"chartPreferences\"\n                    className=\"ct-chart ct-perfect-fourth\"\n                  >\n                    <ChartistGraph isLoadingStatsComplete={isLoadingStatsComplete} data={Dashboard.createPercentageDict(version_list)} type=\"Pie\" />\n                  </div>\n                }\n                legend={\n                  <div className=\"legend\">{Dashboard.createLegend(legendPie)}</div>\n                }\n              />\n            </Col>\n            <Col md={4}>\n              <Card\n                title=\"Permissions usage\"\n                category=\"Most used permissions\"\n                content={\n                  <div\n                    id=\"chartPreferences\"\n                    className=\"ct-chart ct-perfect-fourth\"\n                  >\n                    <ChartistGraph data={dataPie} type=\"Pie\" />\n                  </div>\n                }\n                legend={\n                  <div className=\"legend\">{Dashboard.createLegend(legendPie)}</div>\n                }\n              />\n            </Col>\n            <Col md={4}>\n              <Card\n                title=\"Certificate Issuer\"\n                category=\"Most issued certificates\"\n                content={\n                  <div\n                    id=\"chartPreferences\"\n                    className=\"ct-chart ct-perfect-fourth\"\n                  >\n                    <ChartistGraph data={dataPie} type=\"Pie\" />\n                  </div>\n                }\n                legend={\n                  <div className=\"legend\">{Dashboard.createLegend(legendPie)}</div>\n                }\n              />\n            </Col>\n          </Row>\n\n          <Row>\n            <Col md={6}>\n              <Card\n                id=\"chartActivity\"\n                title=\"Firmware by Region\"\n                category=\"All firmware by locale\"\n                content={\n                  <div className=\"ct-chart\">\n                    <ChartistGraph\n                      data={dataBar}\n                      type=\"Bar\"\n                      options={optionsBar}\n                      responsiveOptions={responsiveBar}\n                    />\n                  </div>\n                }\n                legend={\n                  <div className=\"legend\">{Dashboard.createLegend(legendBar)}</div>\n                }\n              />\n            </Col>\n\n            <Col md={6}>\n              <Card\n                title=\"Firmware Manufacturer\"\n                category=\"Smartphone manufacturer\"\n                content={\n                  <div className=\"ct-chart\">\n                    <ChartistGraph\n                      data={horizontalBar}\n                      type=\"Bar\"\n                      options={horizontalOptionsBar}\n                    />\n                  </div>\n                }\n              />\n            </Col>\n          </Row>\n          <Row>\n            <Col md={6}>\n              <Card\n                id=\"chartHorBar\"\n                title=\"Firmware Brand\"\n                category=\"All samples sorted by Brand\"\n                content={\n                  <div className=\"ct-chart\">\n                    <ChartistGraph\n                      data={horizontalBar}\n                      type=\"Bar\"\n                      options={horizontalOptionsBar}\n                    />\n                  </div>\n                }\n                legend={\n                  <div className=\"legend\">{Dashboard.createLegend(legendBar)}</div>\n                }\n              />\n            </Col>\n\n            <Col md={6}>\n              <Card\n                id=\"chartHorBar1\"\n                title=\"Most installed Apps\"\n                category=\"Occurrence by package name\"\n                content={\n                  <div className=\"ct-chart\">\n                    <ChartistGraph\n                      data={horizontalBar}\n                      type=\"Bar\"\n                      options={horizontalOptionsBar}\n                    />\n                  </div>\n                }\n                legend={\n                  <div className=\"legend\">{Dashboard.createLegend(legendBar)}</div>\n                }\n              />\n            </Col>\n          </Row>\n\n          <Row>\n            <Card\n              plain\n              title=\"Top Packagenames\"\n              category=\"Packagename occurance on firmware.\"\n              ctTableFullWidth\n              ctTableResponsive\n              content={\n                <Table hover>\n                  <thead>\n                  <tr>\n                    {thArrayPackageTable.map((prop, key) => {\n                      return <th key={key}>{prop}</th>;\n                    })}\n                  </tr>\n                  </thead>\n                  <tbody>\n                  {packagename_list.map((prop, key) => {\n                    return (\n                      <tr key={key}>\n                        {prop.map((prop, key) => {\n                          return <td key={key}>{prop}</td>;\n                        })}\n                      </tr>\n                    );\n                  })}\n                  </tbody>\n                </Table>\n              }\n            />\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}