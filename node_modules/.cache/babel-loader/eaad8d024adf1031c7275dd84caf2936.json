{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\n\nimport React, { Component } from 'react';\nimport Container from '../Container';\nimport enhance from './enhance';\n\nvar BubbleCanvas = function (_Component) {\n  _inherits(BubbleCanvas, _Component);\n\n  function BubbleCanvas() {\n    _classCallCheck(this, BubbleCanvas);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  BubbleCanvas.prototype.componentDidMount = function componentDidMount() {\n    this.ctx = this.surface.getContext('2d');\n    this.draw(this.props);\n  };\n\n  BubbleCanvas.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.ctx = this.surface.getContext('2d');\n    this.draw(this.props);\n  };\n\n  BubbleCanvas.prototype.draw = function draw(props) {\n    var _this2 = this;\n\n    var nodes = props.nodes,\n        pixelRatio = props.pixelRatio,\n        margin = props.margin,\n        outerWidth = props.outerWidth,\n        outerHeight = props.outerHeight,\n        borderWidth = props.borderWidth,\n        getBorderColor = props.getBorderColor,\n        enableLabel = props.enableLabel,\n        getLabel = props.getLabel,\n        labelSkipRadius = props.labelSkipRadius,\n        getLabelTextColor = props.getLabelTextColor;\n    this.surface.width = outerWidth * pixelRatio;\n    this.surface.height = outerHeight * pixelRatio;\n    this.ctx.scale(pixelRatio, pixelRatio);\n    this.ctx.clearRect(0, 0, outerWidth, outerHeight);\n    this.ctx.translate(margin.left, margin.top);\n    /*\n    Could be used to compute metaballs,\n    grouping nodes by depth + common parent\n    using marching squares, but it really is a bonus feature…\n     const maxDepth = _.maxBy(nodes, 'depth').depth\n    const nodesByDepth = _.range(maxDepth + 1).map(depth =>\n        _.values(\n            _.groupBy(nodes.filter(({ depth: nodeDepth }) => nodeDepth === depth), 'parent.id')\n        )\n    )\n    nodesByDepth.forEach(layer => {\n        layer.forEach(node => {\n            console.log(node)\n        })\n    })\n    */\n\n    nodes.forEach(function (node) {\n      _this2.ctx.save();\n\n      if (borderWidth > 0) {\n        _this2.ctx.strokeStyle = getBorderColor(node);\n        _this2.ctx.lineWidth = borderWidth;\n      }\n\n      _this2.ctx.beginPath();\n\n      _this2.ctx.arc(node.x, node.y, node.r, 0, 2 * Math.PI);\n\n      _this2.ctx.fillStyle = node.color;\n\n      _this2.ctx.fill();\n\n      if (borderWidth > 0) {\n        _this2.ctx.stroke();\n      }\n    });\n\n    if (enableLabel) {\n      this.ctx.textAlign = 'center';\n      this.ctx.textBaseline = 'middle'; // draw labels on top\n\n      nodes.filter(function (_ref) {\n        var r = _ref.r;\n        return r > labelSkipRadius;\n      }).forEach(function (node) {\n        var label = getLabel(node);\n        var labelTextColor = getLabelTextColor(node);\n        _this2.ctx.fillStyle = labelTextColor;\n\n        _this2.ctx.fillText(label, node.x, node.y);\n      });\n    }\n  };\n\n  BubbleCanvas.prototype.render = function render() {\n    var _this3 = this;\n\n    var _props = this.props,\n        outerWidth = _props.outerWidth,\n        outerHeight = _props.outerHeight,\n        pixelRatio = _props.pixelRatio,\n        isInteractive = _props.isInteractive,\n        theme = _props.theme;\n    return React.createElement(Container, {\n      isInteractive: isInteractive,\n      theme: theme\n    }, function (_ref2) {\n      var showTooltip = _ref2.showTooltip,\n          hideTooltip = _ref2.hideTooltip;\n      return React.createElement('canvas', {\n        ref: function ref(surface) {\n          _this3.surface = surface;\n        },\n        width: outerWidth * pixelRatio,\n        height: outerHeight * pixelRatio,\n        style: {\n          width: outerWidth,\n          height: outerHeight\n        }\n      });\n    });\n  };\n\n  return BubbleCanvas;\n}(Component);\n\nBubbleCanvas.displayName = 'BubbleCanvas';\nexport default enhance(BubbleCanvas);","map":{"version":3,"sources":["/Users/tom/Documents/MSE/zz_MasterThesis/06_FirmwareDroid/firmware-droid-client/node_modules/nivo/es/components/charts/bubble/BubbleCanvas.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","React","Component","Container","enhance","BubbleCanvas","_Component","apply","arguments","componentDidMount","ctx","surface","getContext","draw","props","componentDidUpdate","_this2","nodes","pixelRatio","margin","outerWidth","outerHeight","borderWidth","getBorderColor","enableLabel","getLabel","labelSkipRadius","getLabelTextColor","width","height","scale","clearRect","translate","left","top","forEach","node","save","strokeStyle","lineWidth","beginPath","arc","x","y","r","Math","PI","fillStyle","color","fill","stroke","textAlign","textBaseline","filter","_ref","label","labelTextColor","fillText","render","_this3","_props","isInteractive","theme","createElement","_ref2","showTooltip","hideTooltip","ref","style","displayName"],"mappings":"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","sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Component } from 'react';\nimport Container from '../Container';\nimport enhance from './enhance';\n\nvar BubbleCanvas = function (_Component) {\n    _inherits(BubbleCanvas, _Component);\n\n    function BubbleCanvas() {\n        _classCallCheck(this, BubbleCanvas);\n\n        return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n    }\n\n    BubbleCanvas.prototype.componentDidMount = function componentDidMount() {\n        this.ctx = this.surface.getContext('2d');\n        this.draw(this.props);\n    };\n\n    BubbleCanvas.prototype.componentDidUpdate = function componentDidUpdate() {\n        this.ctx = this.surface.getContext('2d');\n        this.draw(this.props);\n    };\n\n    BubbleCanvas.prototype.draw = function draw(props) {\n        var _this2 = this;\n\n        var nodes = props.nodes,\n            pixelRatio = props.pixelRatio,\n            margin = props.margin,\n            outerWidth = props.outerWidth,\n            outerHeight = props.outerHeight,\n            borderWidth = props.borderWidth,\n            getBorderColor = props.getBorderColor,\n            enableLabel = props.enableLabel,\n            getLabel = props.getLabel,\n            labelSkipRadius = props.labelSkipRadius,\n            getLabelTextColor = props.getLabelTextColor;\n\n\n        this.surface.width = outerWidth * pixelRatio;\n        this.surface.height = outerHeight * pixelRatio;\n\n        this.ctx.scale(pixelRatio, pixelRatio);\n        this.ctx.clearRect(0, 0, outerWidth, outerHeight);\n        this.ctx.translate(margin.left, margin.top);\n\n        /*\n        Could be used to compute metaballs,\n        grouping nodes by depth + common parent\n        using marching squares, but it really is a bonus feature…\n         const maxDepth = _.maxBy(nodes, 'depth').depth\n        const nodesByDepth = _.range(maxDepth + 1).map(depth =>\n            _.values(\n                _.groupBy(nodes.filter(({ depth: nodeDepth }) => nodeDepth === depth), 'parent.id')\n            )\n        )\n        nodesByDepth.forEach(layer => {\n            layer.forEach(node => {\n                console.log(node)\n            })\n        })\n        */\n\n        nodes.forEach(function (node) {\n            _this2.ctx.save();\n\n            if (borderWidth > 0) {\n                _this2.ctx.strokeStyle = getBorderColor(node);\n                _this2.ctx.lineWidth = borderWidth;\n            }\n\n            _this2.ctx.beginPath();\n            _this2.ctx.arc(node.x, node.y, node.r, 0, 2 * Math.PI);\n            _this2.ctx.fillStyle = node.color;\n            _this2.ctx.fill();\n\n            if (borderWidth > 0) {\n                _this2.ctx.stroke();\n            }\n        });\n\n        if (enableLabel) {\n            this.ctx.textAlign = 'center';\n            this.ctx.textBaseline = 'middle';\n\n            // draw labels on top\n            nodes.filter(function (_ref) {\n                var r = _ref.r;\n                return r > labelSkipRadius;\n            }).forEach(function (node) {\n                var label = getLabel(node);\n                var labelTextColor = getLabelTextColor(node);\n\n                _this2.ctx.fillStyle = labelTextColor;\n                _this2.ctx.fillText(label, node.x, node.y);\n            });\n        }\n    };\n\n    BubbleCanvas.prototype.render = function render() {\n        var _this3 = this;\n\n        var _props = this.props,\n            outerWidth = _props.outerWidth,\n            outerHeight = _props.outerHeight,\n            pixelRatio = _props.pixelRatio,\n            isInteractive = _props.isInteractive,\n            theme = _props.theme;\n\n\n        return React.createElement(\n            Container,\n            { isInteractive: isInteractive, theme: theme },\n            function (_ref2) {\n                var showTooltip = _ref2.showTooltip,\n                    hideTooltip = _ref2.hideTooltip;\n                return React.createElement('canvas', {\n                    ref: function ref(surface) {\n                        _this3.surface = surface;\n                    },\n                    width: outerWidth * pixelRatio,\n                    height: outerHeight * pixelRatio,\n                    style: {\n                        width: outerWidth,\n                        height: outerHeight\n                    }\n                });\n            }\n        );\n    };\n\n    return BubbleCanvas;\n}(Component);\n\nBubbleCanvas.displayName = 'BubbleCanvas';\n\nexport default enhance(BubbleCanvas);"]},"metadata":{},"sourceType":"module"}